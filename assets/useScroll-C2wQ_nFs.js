import{Q as m,z as h,M as w,N as g}from"./index-CnIGl8SL.js";import{r as s,k as d,n as u,w as p,q as H}from"./index-CVHfDQ4F.js";const f=(e,n)=>{const l=s(),t=()=>{l.value=h(e).height};return d(()=>{if(u(t),n)for(let o=1;o<=3;o++)setTimeout(t,100*o)}),m(()=>u(t)),p([w,g],t),l};function L(e,n){let l=0;return function(...t){const o=Date.now();o-l>=n&&(l=o,e.apply(this,...t))}}const r=s(),i=s(),c=s();function S(e=window){const n=s(!1);s(!1);const t=L(()=>{e===window?(r.value=document.documentElement.scrollHeight,i.value=document.documentElement.scrollTop,c.value=document.documentElement.clientHeight):(r.value=e.value.scrollHeight,i.value=e.value.scrollTop,c.value=e.value.clientHeight),c.value+i.value>=r.value-1&&(n.value=!0,console.log("滚到底部了"))},10),o=()=>{e===window?e.addEventListener("scroll",t):e.value.addEventListener("scroll",t)},v=()=>{var a;e===window?e.removeEventListener("scroll",t):(a=e.value)==null||a.removeEventListener("scroll",t)};return d(o),H(v),{isReachBottom:n,scrollTop:i}}export{S as a,f as u};
