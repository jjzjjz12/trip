import{E as He,G as nt,D as ke,A as _t,s as Tt,o as at,k as ce,m as le,n as M,c as p,J as qe,K as lt,e as se,h as it,f as Ce,L as Te,z as ae,M as ot,N as Rt,w as oe,x as ze,j as ue,t as ie,O as rt,Q as Bt,a as Re,i as W,R as $t,S as Be,U as Xe,V as At,W as Ke,r as $e,u as ge,X as Lt,I as me,Y as be,v as Et,Z as Vt,_ as Pt,$ as Ot,a0 as Mt,a1 as zt,p as ye,a2 as Ge,a3 as Dt,a4 as Nt,q as Ft,b as Ht,a5 as Wt}from"./index-BxRs6hw0.js";import{a as jt,c as qt,d as Kt,r as ct,u as Ut,b as st}from"./city-C5pY-YsO.js";import{h as ut,f as Yt,g as Zt,d as ee,r as E,t as Le,b as L,w as Z,e as c,n as Y,k as Ue,l as Xt,H as Gt,j as dt,m as Ae,I as Jt,J as Qt,C as pt,v as ft,p as ht,K as en,i as tn,_ as vt,B as gt,c as ne,o as U,L as mt,a as We,F as fe,A as xe,y as nn,G as je,u as an,z as Je}from"./index-Db355vqp.js";import{S as ln,a as on}from"./index-B6botvgz.js";function rn(e,n,l){let r,o=0;const a=e.scrollLeft,u=l===0?1:Math.round(l*1e3/16);let s=a;function i(){nt(r)}function m(){s+=(n-a)/u,e.scrollLeft=s,++o<u&&(r=He(m))}return m(),i}function cn(e,n,l,r){let o,a=ke(e);const u=a<n,s=l===0?1:Math.round(l*1e3/16),i=(n-a)/s;function m(){nt(o)}function f(){a+=i,(u&&a>n||!u&&a<n)&&(a=n),_t(e,a),u&&a<n||!u&&a>n?o=He(f):r&&(o=He(r))}return f(),m}let sn=0;function Ee(){const e=ut(),{name:n="unknown"}=(e==null?void 0:e.type)||{};return`${n}-${++sn}`}function bt(e,n){if(!Tt||!window.IntersectionObserver)return;const l=new IntersectionObserver(a=>{n(a[0].intersectionRatio>0)},{root:document.body}),r=()=>{e.value&&l.observe(e.value)},o=()=>{e.value&&l.unobserve(e.value)};Yt(o),Zt(o),at(r)}const[un,dn]=p("sticky"),fn={zIndex:M,position:le("top"),container:Object,offsetTop:ce(0),offsetBottom:ce(0)};var hn=ee({name:un,props:fn,emits:["scroll","change"],setup(e,{emit:n,slots:l}){const r=E(),o=qe(r),a=Le({fixed:!1,width:0,height:0,transform:0}),u=E(!1),s=L(()=>lt(e.position==="top"?e.offsetTop:e.offsetBottom)),i=L(()=>{if(u.value)return;const{fixed:g,height:S,width:b}=a;if(g)return{width:`${b}px`,height:`${S}px`}}),m=L(()=>{if(!a.fixed||u.value)return;const g=se(it(e.zIndex),{width:`${a.width}px`,height:`${a.height}px`,[e.position]:`${s.value}px`});return a.transform&&(g.transform=`translate3d(0, ${a.transform}px, 0)`),g}),f=g=>n("scroll",{scrollTop:g,isFixed:a.fixed}),R=()=>{if(!r.value||Te(r))return;const{container:g,position:S}=e,b=ae(r),_=ke(window);if(a.width=b.width,a.height=b.height,S==="top")if(g){const x=ae(g),V=x.bottom-s.value-a.height;a.fixed=s.value>b.top&&x.bottom>0,a.transform=V<0?V:0}else a.fixed=s.value>b.top;else{const{clientHeight:x}=document.documentElement;if(g){const V=ae(g),C=x-V.top-s.value-a.height;a.fixed=x-s.value<b.bottom&&x>V.top,a.transform=C<0?-C:0}else a.fixed=x-s.value<b.bottom}f(_)};return Z(()=>a.fixed,g=>n("change",g)),Ce("scroll",R,{target:o,passive:!0}),bt(r,R),Z([ot,Rt],()=>{!r.value||Te(r)||!a.fixed||(u.value=!0,Y(()=>{const g=ae(r);a.width=g.width,a.height=g.height,u.value=!1}))}),()=>{var g;return c("div",{ref:r,style:i.value},[c("div",{class:dn({fixed:a.fixed&&!u.value}),style:m.value},[(g=l.default)==null?void 0:g.call(l)])])}}});const vn=oe(hn),[gn,Qe]=p("tabs");var mn=ee({name:gn,props:{count:ze(Number),inited:Boolean,animated:Boolean,duration:ze(M),swipeable:Boolean,lazyRender:Boolean,currentIndex:ze(Number)},emits:["change"],setup(e,{emit:n,slots:l}){const r=E(),o=s=>n("change",s),a=()=>{var s;const i=(s=l.default)==null?void 0:s.call(l);return e.animated||e.swipeable?c(ln,{ref:r,loop:!1,class:Qe("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:o},{default:()=>[i]}):i},u=s=>{const i=r.value;i&&i.state.active!==s&&i.swipeTo(s,{immediate:!e.inited})};return Z(()=>e.currentIndex,u),Ue(()=>{u(e.currentIndex)}),ue({swipeRef:r}),()=>c("div",{class:Qe("content",{animated:e.animated||e.swipeable})},[a()])}});const[yt,_e]=p("tabs"),bn={type:le("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:ce(0),duration:ce(.3),animated:Boolean,ellipsis:ie,swipeable:Boolean,scrollspy:Boolean,offsetTop:ce(0),background:String,lazyRender:ie,showHeader:ie,lineWidth:M,lineHeight:M,beforeChange:Function,swipeThreshold:ce(5),titleActiveColor:String,titleInactiveColor:String},xt=Symbol(yt);var yn=ee({name:yt,props:bn,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:n,slots:l}){let r,o,a,u,s;const i=E(),m=E(),f=E(),R=E(),g=Ee(),S=qe(i),[b,_]=jt(),{children:x,linkChildren:V}=rt(xt),C=Le({inited:!1,position:"",lineStyle:{},currentIndex:-1}),j=L(()=>x.length>+e.swipeThreshold||!e.ellipsis||e.shrink),N=L(()=>({borderColor:e.color,background:e.background})),y=(d,k)=>{var t;return(t=d.name)!=null?t:k},F=L(()=>{const d=x[C.currentIndex];if(d)return y(d,C.currentIndex)}),z=L(()=>lt(e.offsetTop)),w=L(()=>e.sticky?z.value+r:0),T=d=>{const k=m.value,t=b.value;if(!j.value||!k||!t||!t[C.currentIndex])return;const h=t[C.currentIndex].$el,v=h.offsetLeft-(k.offsetWidth-h.offsetWidth)/2;u&&u(),u=rn(k,v,d?0:+e.duration)},B=()=>{const d=C.inited;Y(()=>{const k=b.value;if(!k||!k[C.currentIndex]||e.type!=="line"||Te(i.value))return;const t=k[C.currentIndex].$el,{lineWidth:h,lineHeight:v}=e,I=t.offsetLeft+t.offsetWidth/2,$={width:Re(h),backgroundColor:e.color,transform:`translateX(${I}px) translateX(-50%)`};if(d&&($.transitionDuration=`${e.duration}s`),W(v)){const q=Re(v);$.height=q,$.borderRadius=q}C.lineStyle=$})},P=d=>{const k=d<C.currentIndex?-1:1;for(;d>=0&&d<x.length;){if(!x[d].disabled)return d;d+=k}},A=(d,k)=>{const t=P(d);if(!W(t))return;const h=x[t],v=y(h,t),I=C.currentIndex!==null;C.currentIndex!==t&&(C.currentIndex=t,k||T(),B()),v!==e.active&&(n("update:active",v),I&&n("change",v,h.title)),a&&!e.scrollspy&&Be(Math.ceil(Xe(i.value)-z.value))},O=(d,k)=>{const t=x.findIndex((h,v)=>y(h,v)===d);A(t===-1?0:t,k)},X=(d=!1)=>{if(e.scrollspy){const k=x[C.currentIndex].$el;if(k&&S.value){const t=Xe(k,S.value)-w.value;o=!0,s&&s(),s=cn(S.value,t,d?0:+e.duration,()=>{o=!1})}}},D=(d,k,t)=>{const{title:h,disabled:v}=x[k],I=y(x[k],k);v||(qt(e.beforeChange,{args:[I],done:()=>{A(k),X()}}),Kt(d)),n("clickTab",{name:I,title:h,event:t,disabled:v})},H=d=>{a=d.isFixed,n("scroll",d)},he=d=>{Y(()=>{O(d),X(!0)})},J=()=>{for(let d=0;d<x.length;d++){const{top:k}=ae(x[d].$el);if(k>w.value)return d===0?0:d-1}return x.length-1},Ve=()=>{if(e.scrollspy&&!o){const d=J();A(d)}},Pe=()=>{if(e.type==="line"&&x.length)return c("div",{class:_e("line"),style:C.lineStyle},null)},we=()=>{var d,k,t;const{type:h,border:v,sticky:I}=e,$=[c("div",{ref:I?void 0:f,class:[_e("wrap"),{[$t]:h==="line"&&v}]},[c("div",{ref:m,role:"tablist",class:_e("nav",[h,{shrink:e.shrink,complete:j.value}]),style:N.value,"aria-orientation":"horizontal"},[(d=l["nav-left"])==null?void 0:d.call(l),x.map(q=>q.renderTitle(D)),Pe(),(k=l["nav-right"])==null?void 0:k.call(l)])]),(t=l["nav-bottom"])==null?void 0:t.call(l)];return I?c("div",{ref:f},[$]):$},Se=()=>{B(),Y(()=>{var d,k;T(!0),(k=(d=R.value)==null?void 0:d.swipeRef.value)==null||k.resize()})};Z(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],B),Z(ot,Se),Z(()=>e.active,d=>{d!==F.value&&O(d)}),Z(()=>x.length,()=>{C.inited&&(O(e.active),B(),Y(()=>{T(!0)}))});const Oe=()=>{O(e.active,!0),Y(()=>{C.inited=!0,f.value&&(r=ae(f.value).height),T(!0)})},Me=(d,k)=>n("rendered",d,k);return ue({resize:Se,scrollTo:he}),Xt(B),Bt(B),at(Oe),bt(i,B),Ce("scroll",Ve,{target:S,passive:!0}),V({id:g,props:e,setLine:B,scrollable:j,onRendered:Me,currentName:F,setTitleRefs:_,scrollIntoView:T}),()=>c("div",{ref:i,class:_e([e.type])},[e.showHeader?e.sticky?c(vn,{container:i.value,offsetTop:z.value,onScroll:H},{default:()=>[we()]}):we():null,c(mn,{ref:R,count:x.length,inited:C.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:C.currentIndex,onChange:A},{default:()=>{var d;return[(d=l.default)==null?void 0:d.call(l)]}})])}});const xn=Symbol(),[kn,pe]=p("tab"),Cn=ee({name:kn,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:M,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:ie},setup(e,{slots:n}){const l=L(()=>{const o={},{type:a,color:u,disabled:s,isActive:i,activeColor:m,inactiveColor:f}=e;u&&a==="card"&&(o.borderColor=u,s||(i?o.backgroundColor=u:o.color=u));const g=i?m:f;return g&&(o.color=g),o}),r=()=>{const o=c("span",{class:pe("text",{ellipsis:!e.scrollable})},[n.title?n.title():e.title]);return e.dot||W(e.badge)&&e.badge!==""?c(At,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[o]}):o};return()=>c("div",{id:e.id,role:"tab",class:[pe([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:l.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[r()])}}),[wn,De]=p("tab"),Sn=se({},ct,{dot:Boolean,name:M,badge:M,title:String,disabled:Boolean,titleClass:ge,titleStyle:[String,Object],showZeroBadge:ie});var In=ee({name:wn,props:Sn,setup(e,{slots:n}){const l=Ee(),r=E(!1),o=ut(),{parent:a,index:u}=Ke(xt);if(!a)return;const s=()=>{var b;return(b=e.name)!=null?b:u.value},i=()=>{r.value=!0,a.props.lazyRender&&Y(()=>{a.onRendered(s(),e.title)})},m=L(()=>{const b=s()===a.currentName.value;return b&&!r.value&&i(),b}),f=E(""),R=E("");Gt(()=>{const{titleClass:b,titleStyle:_}=e;f.value=b?Jt(b):"",R.value=_&&typeof _!="string"?Qt(pt(_)):_});const g=b=>c(Cn,Ae({key:l,id:`${a.id}-${u.value}`,ref:a.setTitleRefs(u.value),style:R.value,class:f.value,isActive:m.value,controls:l,scrollable:a.scrollable.value,activeColor:a.props.titleActiveColor,inactiveColor:a.props.titleInactiveColor,onClick:_=>b(o.proxy,u.value,_)},$e(a.props,["type","color","shrink"]),$e(e,["dot","badge","title","disabled","showZeroBadge"])),{title:n.title}),S=E(!m.value);return Z(m,b=>{b?S.value=!1:Lt(()=>{S.value=!0})}),Z(()=>e.title,()=>{a.setLine(),a.scrollIntoView()}),ht(xn,m),ue({id:l,renderTitle:g}),()=>{var b;const _=`${a.id}-${u.value}`,{animated:x,swipeable:V,scrollspy:C,lazyRender:j}=a.props;if(!n.default&&!x)return;const N=C||m.value;if(x||V)return c(on,{id:l,role:"tabpanel",class:De("panel-wrapper",{inactive:S.value}),tabindex:m.value?0:-1,"aria-hidden":!m.value,"aria-labelledby":_,"data-allow-mismatch":"attribute"},{default:()=>{var z;return[c("div",{class:De("panel")},[(z=n.default)==null?void 0:z.call(n)])]}});const F=r.value||C||!j?(b=n.default)==null?void 0:b.call(n):null;return dt(c("div",{id:l,role:"tabpanel",class:De("panel"),tabindex:N?0:-1,"aria-labelledby":_,"data-allow-mismatch":"attribute"},[F]),[[ft,N]])}}});const _n=oe(In),Tn=oe(yn),[Rn,de]=p("cell"),kt={tag:le("div"),icon:String,size:String,title:M,value:M,label:M,center:Boolean,isLink:Boolean,border:ie,iconPrefix:String,valueClass:ge,labelClass:ge,titleClass:ge,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},Bn=se({},kt,ct);var $n=ee({name:Rn,props:Bn,setup(e,{slots:n}){const l=Ut(),r=()=>{if(n.label||W(e.label))return c("div",{class:[de("label"),e.labelClass]},[n.label?n.label():e.label])},o=()=>{var i;if(n.title||W(e.title)){const m=(i=n.title)==null?void 0:i.call(n);return Array.isArray(m)&&m.length===0?void 0:c("div",{class:[de("title"),e.titleClass],style:e.titleStyle},[m||c("span",null,[e.title]),r()])}},a=()=>{const i=n.value||n.default;if(i||W(e.value))return c("div",{class:[de("value"),e.valueClass]},[i?i():c("span",null,[e.value])])},u=()=>{if(n.icon)return n.icon();if(e.icon)return c(me,{name:e.icon,class:de("left-icon"),classPrefix:e.iconPrefix},null)},s=()=>{if(n["right-icon"])return n["right-icon"]();if(e.isLink){const i=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return c(me,{name:i,class:de("right-icon")},null)}};return()=>{var i;const{tag:m,size:f,center:R,border:g,isLink:S,required:b}=e,_=(i=e.clickable)!=null?i:S,x={center:R,required:!!b,clickable:_,borderless:!g};return f&&(x[f]=!!f),c(m,{class:de(x),role:_?"button":void 0,tabindex:_?0:void 0,onClick:l},{default:()=>{var V;return[u(),o(),a(),s(),(V=n.extra)==null?void 0:V.call(n)]}})}}});const Ct=oe($n);function wt(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function An(e,n){if(wt(e)){if(n.required)return!1;if(n.validateEmpty===!1)return!0}return!(n.pattern&&!n.pattern.test(String(e)))}function Ln(e,n){return new Promise(l=>{const r=n.validator(e,n);if(Pt(r)){r.then(l);return}l(r)})}function et(e,n){const{message:l}=n;return Vt(l)?l(e,n):l||""}function En({target:e}){e.composing=!0}function tt({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Vn(e,n){const l=be();e.style.height="auto";let r=e.scrollHeight;if(Et(n)){const{maxHeight:o,minHeight:a}=n;o!==void 0&&(r=Math.min(r,o)),a!==void 0&&(r=Math.max(r,a))}r&&(e.style.height=`${r}px`,Be(l))}function Pn(e,n){return e==="number"&&(e="text",n??(n="decimal")),e==="digit"&&(e="tel",n??(n="numeric")),{type:e,inputmode:n}}function te(e){return[...e].length}function Ne(e,n){return[...e].slice(0,n).join("")}const[On,K]=p("field"),Ye={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:M,max:Number,min:Number,formatter:Function,clearIcon:le("clear"),modelValue:ce(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:le("focus"),formatTrigger:le("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},Mn=se({},kt,Ye,{rows:M,type:le("text"),rules:Array,autosize:[Boolean,Object],labelWidth:M,labelClass:ge,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var zn=ee({name:On,props:Mn,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:n,slots:l}){const r=Ee(),o=Le({status:"unvalidated",focused:!1,validateMessage:""}),a=E(),u=E(),s=E(),{parent:i}=Ke(Ot),m=()=>{var t;return String((t=e.modelValue)!=null?t:"")},f=t=>{if(W(e[t]))return e[t];if(i&&W(i.props[t]))return i.props[t]},R=L(()=>{const t=f("readonly");if(e.clearable&&!t){const h=m()!=="",v=e.clearTrigger==="always"||e.clearTrigger==="focus"&&o.focused;return h&&v}return!1}),g=L(()=>s.value&&l.input?s.value():e.modelValue),S=L(()=>{var t;const h=f("required");return h==="auto"?(t=e.rules)==null?void 0:t.some(v=>v.required):h}),b=t=>t.reduce((h,v)=>h.then(()=>{if(o.status==="failed")return;let{value:I}=g;if(v.formatter&&(I=v.formatter(I,v)),!An(I,v)){o.status="failed",o.validateMessage=et(I,v);return}if(v.validator)return wt(I)&&v.validateEmpty===!1?void 0:Ln(I,v).then($=>{$&&typeof $=="string"?(o.status="failed",o.validateMessage=$):$===!1&&(o.status="failed",o.validateMessage=et(I,v))})}),Promise.resolve()),_=()=>{o.status="unvalidated",o.validateMessage=""},x=()=>n("endValidate",{status:o.status,message:o.validateMessage}),V=(t=e.rules)=>new Promise(h=>{_(),t?(n("startValidate"),b(t).then(()=>{o.status==="failed"?(h({name:e.name,message:o.validateMessage}),x()):(o.status="passed",h(),x())})):h()}),C=t=>{if(i&&e.rules){const{validateTrigger:h}=i.props,v=Ge(h).includes(t),I=e.rules.filter($=>$.trigger?Ge($.trigger).includes(t):v);I.length&&V(I)}},j=t=>{var h;const{maxlength:v}=e;if(W(v)&&te(t)>+v){const I=m();if(I&&te(I)===+v)return I;const $=(h=a.value)==null?void 0:h.selectionEnd;if(o.focused&&$){const q=[...t],re=q.length-+v;return q.splice($-re,re),q.join("")}return Ne(t,+v)}return t},N=(t,h="onChange")=>{var v,I;const $=t;t=j(t);const q=te($)-te(t);if(e.type==="number"||e.type==="digit"){const Q=e.type==="number";if(t=Mt(t,Q,Q),h==="onBlur"&&t!==""&&(e.min!==void 0||e.max!==void 0)){const G=zt(+t,(v=e.min)!=null?v:-1/0,(I=e.max)!=null?I:1/0);+t!==G&&(t=G.toString())}}let re=0;if(e.formatter&&h===e.formatTrigger){const{formatter:Q,maxlength:G}=e;if(t=Q(t),W(G)&&te(t)>+G&&(t=Ne(t,+G)),a.value&&o.focused){const{selectionEnd:Ie}=a.value,Ze=Ne($,Ie);re=te(Q(Ze))-te(Ze)}}if(a.value&&a.value.value!==t)if(o.focused){let{selectionStart:Q,selectionEnd:G}=a.value;if(a.value.value=t,W(Q)&&W(G)){const Ie=te(t);q?(Q-=q,G-=q):re&&(Q+=re,G+=re),a.value.setSelectionRange(Math.min(Q,Ie),Math.min(G,Ie))}}else a.value.value=t;t!==e.modelValue&&n("update:modelValue",t)},y=t=>{t.target.composing||N(t.target.value)},F=()=>{var t;return(t=a.value)==null?void 0:t.blur()},z=()=>{var t;return(t=a.value)==null?void 0:t.focus()},w=()=>{const t=a.value;e.type==="textarea"&&e.autosize&&t&&Vn(t,e.autosize)},T=t=>{o.focused=!0,n("focus",t),Y(w),f("readonly")&&F()},B=t=>{o.focused=!1,N(m(),"onBlur"),n("blur",t),!f("readonly")&&(C("onBlur"),Y(w),Dt())},P=t=>n("clickInput",t),A=t=>n("clickLeftIcon",t),O=t=>n("clickRightIcon",t),X=t=>{ye(t),n("update:modelValue",""),n("clear",t)},D=L(()=>{if(typeof e.error=="boolean")return e.error;if(i&&i.props.showError&&o.status==="failed")return!0}),H=L(()=>{const t=f("labelWidth"),h=f("labelAlign");if(t&&h!=="top")return{width:Re(t)}}),he=t=>{t.keyCode===13&&(!(i&&i.props.submitOnEnter)&&e.type!=="textarea"&&ye(t),e.type==="search"&&F()),n("keypress",t)},J=()=>e.id||`${r}-input`,Ve=()=>o.status,Pe=()=>{const t=K("control",[f("inputAlign"),{error:D.value,custom:!!l.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(l.input)return c("div",{class:t,onClick:P},[l.input()]);const h={id:J(),ref:a,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:t,disabled:f("disabled"),readonly:f("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${r}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:B,onFocus:T,onInput:y,onClick:P,onChange:tt,onKeypress:he,onCompositionend:tt,onCompositionstart:En};return e.type==="textarea"?c("textarea",Ae(h,{inputmode:e.inputmode}),null):c("input",Ae(Pn(e.type,e.inputmode),h),null)},we=()=>{const t=l["left-icon"];if(e.leftIcon||t)return c("div",{class:K("left-icon"),onClick:A},[t?t():c(me,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},Se=()=>{const t=l["right-icon"];if(e.rightIcon||t)return c("div",{class:K("right-icon"),onClick:O},[t?t():c(me,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Oe=()=>{if(e.showWordLimit&&e.maxlength){const t=te(m());return c("div",{class:K("word-limit")},[c("span",{class:K("word-num")},[t]),en("/"),e.maxlength])}},Me=()=>{if(i&&i.props.showErrorMessage===!1)return;const t=e.errorMessage||o.validateMessage;if(t){const h=l["error-message"],v=f("errorMessageAlign");return c("div",{class:K("error-message",v)},[h?h({message:t}):t])}},d=()=>{const t=f("labelWidth"),h=f("labelAlign"),v=f("colon")?":":"";if(l.label)return[l.label(),v];if(e.label)return c("label",{id:`${r}-label`,for:l.input?void 0:J(),"data-allow-mismatch":"attribute",onClick:I=>{ye(I),z()},style:h==="top"&&t?{width:Re(t)}:void 0},[e.label+v])},k=()=>[c("div",{class:K("body")},[Pe(),R.value&&c(me,{ref:u,name:e.clearIcon,class:K("clear")},null),Se(),l.button&&c("div",{class:K("button")},[l.button()])]),Oe(),Me()];return ue({blur:F,focus:z,validate:V,formValue:g,resetValidation:_,getValidationStatus:Ve}),ht(Nt,{customValue:s,resetValidation:_,validateWithTrigger:C}),Z(()=>e.modelValue,()=>{N(m()),_(),C("onChange"),Y(w)}),Ue(()=>{N(m(),e.formatTrigger),Y(w)}),Ce("touchstart",X,{target:L(()=>{var t;return(t=u.value)==null?void 0:t.$el})}),()=>{const t=f("disabled"),h=f("labelAlign"),v=we(),I=()=>{const $=d();return h==="top"?[v,$].filter(Boolean):$||[]};return c(Ct,{size:e.size,class:K({error:D.value,disabled:t,[`label-${h}`]:h}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:H.value,valueClass:K("value"),titleClass:[K("label",[h,{required:S.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:v&&h!=="top"?()=>v:null,title:I,value:k,extra:l.extra})}}});const Dn=oe(zn);function Nn(){return Array(26).fill("").map((l,r)=>String.fromCharCode(65+r))}const[St,Fe]=p("index-bar"),Fn={sticky:ie,zIndex:M,teleport:[String,Object],highlightColor:String,stickyOffsetTop:Ft(0),indexList:{type:Array,default:Nn}},It=Symbol(St);var Hn=ee({name:St,props:Fn,emits:["select","change"],setup(e,{emit:n,slots:l}){const r=E(),o=E(),a=E(""),u=Ht(),s=qe(r),{children:i,linkChildren:m}=rt(It);let f;m({props:e});const R=L(()=>{if(W(e.zIndex))return{zIndex:+e.zIndex+1}}),g=L(()=>{if(e.highlightColor)return{color:e.highlightColor}}),S=(w,T)=>{for(let B=i.length-1;B>=0;B--){const P=B>0?T[B-1].height:0,A=e.sticky?P+e.stickyOffsetTop:0;if(w+A>=T[B].top)return B}return-1},b=w=>i.find(T=>String(T.index)===w),_=()=>{if(Te(r))return;const{sticky:w,indexList:T}=e,B=ke(s.value),P=ae(s),A=i.map(X=>X.getRect(s.value,P));let O=-1;if(f){const X=b(f);if(X){const D=X.getRect(s.value,P);e.sticky&&e.stickyOffsetTop?O=S(D.top-e.stickyOffsetTop,A):O=S(D.top,A)}}else O=S(B,A);a.value=T[O],w&&i.forEach((X,D)=>{const{state:H,$el:he}=X;if(D===O||D===O-1){const J=he.getBoundingClientRect();H.left=J.left,H.width=J.width}else H.left=null,H.width=null;if(D===O)H.active=!0,H.top=Math.max(e.stickyOffsetTop,A[D].top-B)+P.top;else if(D===O-1&&f===""){const J=A[O].top-B;H.active=J>0,H.top=J+P.top-A[D].height}else H.active=!1}),f=""},x=()=>{Y(_)};Ce("scroll",_,{target:s,passive:!0}),Ue(x),Z(()=>e.indexList,x),Z(a,w=>{w&&n("change",w)});const V=()=>e.indexList.map(w=>{const T=w===a.value;return c("span",{class:Fe("index",{active:T}),style:T?g.value:void 0,"data-index":w},[w])}),C=w=>{f=String(w);const T=b(f);if(T){const B=ke(s.value),P=ae(s),{offsetHeight:A}=document.documentElement;if(T.$el.scrollIntoView(),B===A-P.height){_();return}e.sticky&&e.stickyOffsetTop&&(be()===A-P.height?Be(be()):Be(be()-e.stickyOffsetTop)),n("select",T.index)}},j=w=>{const{index:T}=w.dataset;T&&C(T)},N=w=>{j(w.target)};let y;const F=w=>{if(u.move(w),u.isVertical()){ye(w);const{clientX:T,clientY:B}=w.touches[0],P=document.elementFromPoint(T,B);if(P){const{index:A}=P.dataset;A&&y!==A&&(y=A,j(P))}}},z=()=>c("div",{ref:o,class:Fe("sidebar"),style:R.value,onClick:N,onTouchstartPassive:u.start},[V()]);return ue({scrollTo:C}),Ce("touchmove",F,{target:o}),()=>{var w;return c("div",{ref:r,class:Fe()},[e.teleport?c(tn,{to:e.teleport},{default:()=>[z()]}):z(),(w=l.default)==null?void 0:w.call(l)])}}});const[Wn,jn]=p("index-anchor"),qn={index:M};var Kn=ee({name:Wn,props:qn,setup(e,{slots:n}){const l=Le({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),r=E(),{parent:o}=Ke(It);if(!o)return;const a=()=>l.active&&o.props.sticky,u=L(()=>{const{zIndex:i,highlightColor:m}=o.props;if(a())return se(it(i),{left:l.left?`${l.left}px`:void 0,width:l.width?`${l.width}px`:void 0,transform:l.top?`translate3d(0, ${l.top}px, 0)`:void 0,color:m})});return ue({state:l,getRect:(i,m)=>{const f=ae(r);return l.rect.height=f.height,i===window||i===document.body?l.rect.top=f.top+be():l.rect.top=f.top+ke(i)-m.top,l.rect}}),()=>{const i=a();return c("div",{ref:r,style:{height:i?`${l.rect.height}px`:void 0}},[c("div",{style:u.value,class:[jn({sticky:i}),{[Wt]:i}]},[n.default?n.default():e.index])])}}});const Un=oe(Kn),Yn=oe(Hn),[Zn,ve,Xn]=p("search"),Gn=se({},Ye,{label:String,shape:le("square"),leftIcon:le("search"),clearable:ie,actionText:String,background:String,showAction:Boolean});var Jn=ee({name:Zn,props:Gn,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:n,slots:l,attrs:r}){const o=Ee(),a=E(),u=()=>{l.action||(n("update:modelValue",""),n("cancel"))},s=y=>{y.keyCode===13&&(ye(y),n("search",e.modelValue))},i=()=>e.id||`${o}-input`,m=()=>{if(l.label||e.label)return c("label",{class:ve("label"),for:i(),"data-allow-mismatch":"attribute"},[l.label?l.label():e.label])},f=()=>{if(e.showAction){const y=e.actionText||Xn("cancel");return c("div",{class:ve("action"),role:"button",tabindex:0,onClick:u},[l.action?l.action():y])}},R=()=>{var y;return(y=a.value)==null?void 0:y.blur()},g=()=>{var y;return(y=a.value)==null?void 0:y.focus()},S=y=>n("blur",y),b=y=>n("focus",y),_=y=>n("clear",y),x=y=>n("clickInput",y),V=y=>n("clickLeftIcon",y),C=y=>n("clickRightIcon",y),j=Object.keys(Ye),N=()=>{const y=se({},r,$e(e,j),{id:i()}),F=z=>n("update:modelValue",z);return c(Dn,Ae({ref:a,type:"search",class:ve("field",{"with-message":y.errorMessage}),border:!1,onBlur:S,onFocus:b,onClear:_,onKeypress:s,onClickInput:x,onClickLeftIcon:V,onClickRightIcon:C,"onUpdate:modelValue":F},y),$e(l,["left-icon","right-icon"]))};return ue({focus:g,blur:R}),()=>{var y;return c("div",{class:ve({"show-action":e.showAction}),style:{background:e.background}},[(y=l.left)==null?void 0:y.call(l),c("div",{class:ve("content",e.shape)},[m(),N()]),f()])}}});const Qn=oe(Jn),pn={class:"city-group"},ea={class:"hotCities"},ta=["onClick"],na={__name:"city-group",props:{groupData:{type:Object,default:()=>{}}},setup(e){const n=e,l=L(()=>{const u=n.groupData.cities.map(s=>s.group);return u.unshift("#"),u}),r=gt(),o=st();function a(u){o.currentCity=u,r.back()}return(u,s)=>{const i=Un,m=Ct,f=Yn;return U(),ne("div",pn,[c(f,{"index-list":l.value},{default:mt(()=>[c(i,{index:"热门"}),We("div",ea,[(U(!0),ne(fe,null,xe(e.groupData.hotCities,(R,g)=>(U(),ne("div",{key:g,class:"hotCity",onClick:S=>a(R)},nn(R.cityName),9,ta))),128))]),(U(!0),ne(fe,null,xe(e.groupData.cities,(R,g)=>(U(),ne(fe,{key:g},[c(i,{index:R.group},null,8,["index"]),(U(!0),ne(fe,null,xe(R.cities,(S,b)=>(U(),je(m,{key:b,title:S.cityName,onClick:_=>a(S)},null,8,["title","onClick"]))),128))],64))),128))]),_:1},8,["index-list"])])}}},aa=vt(na,[["__scopeId","data-v-0ea097f2"]]),la={class:"city hideTabBar"},ia={class:"top"},oa={class:"content"},ra={__name:"city",setup(e){const n=E(""),l=E(0),r=gt(),o=st();o.fetchAllCitiesData();const{allCities:a}=an(o);L(()=>{var s;return(s=a.value[l.value])==null?void 0:s.cities});function u(){r.back()}return(s,i)=>{const m=Qn,f=_n,R=Tn;return U(),ne("div",la,[We("div",ia,[c(m,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=g=>n.value=g),shape:"round",placeholder:"地区/区域/位置","show-action":"",onCancel:u},null,8,["modelValue"]),c(R,{active:l.value,"onUpdate:active":i[1]||(i[1]=g=>l.value=g),color:"#ff9854"},{default:mt(()=>[(U(!0),ne(fe,null,xe(Je(a),(g,S,b)=>(U(),je(f,{key:S,title:g.title,name:S},null,8,["title","name"]))),128))]),_:1},8,["active"])]),We("div",oa,[(U(!0),ne(fe,null,xe(Je(a),(g,S,b)=>dt((U(),je(aa,{key:b,"group-data":g},null,8,["group-data"])),[[ft,S===l.value]])),128))])])}}},fa=vt(ra,[["__scopeId","data-v-04422845"]]);export{fa as default};
